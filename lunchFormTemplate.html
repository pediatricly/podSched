<div class="lunchMoney">
<h3 class="title">This El Nino program calculates allotments to resident meal cards based on their schedule.</h3>
<p class="intro">This program tallies meal card allocations based on resident schedules. <br>
It does NOT read the Amion schedule directly! It uses data saved by the <a href="http://pediatricly.com/cgi-bin/elNino/updater.py">El Nino "Updater"</a> (aka blockParse). Obviously, if those data are not current, you will get inaccurate allotments and residents will be pissed. So it is critical to update El Nino before using this program.</p>

<p class="intro">El Nino was last updated on <strong>$updated</strong> (yyyy-mm-dd).<br>
If the schedule might have changed since then, go to <a href="http://pediatricly.com/cgi-bin/elNino/updater.py">El Nino Updater</a> to update the schedule data.</p>

<hr>
<h4>Enter Your Parameters Here</h4>
<div class="input" id="lunchForm">
<form enctype="multipart/form-data" method="post" action="lunchMoneyCGI.py">
<span class="prompt">First Block to Calculate: </span><input type="number" name="firstBlock" min="1" max="13"><span class="default">  Defaults to 1 if left blank.</span><br>
<span class="prompt">Last Block to Calculate: </span><input type="number" name="lastBlock" min="1" max="13"><span class="default">  Defaults to 13 if left blank.</span><br><br>
PGY Classes to Include:
<span class="prompt">R1<input type="checkbox" name="classI" value="1">
R2<input type="checkbox" name="classI" value="2">
R3<input type="checkbox" name="classI" value="3"></span>
<span class="default">(Defaults to all 3 classes if none are checked.)</span><br><br>
<span class="prompt">The current list of allotments by rotation was uploaded $rotCashUpdate (yyyy-mm-dd). You can upload a new version here or leave blank to use that last version: <input type="file" name="foodCashNew"></span><br><br>
    <input type="submit" value="Submit"></form>
    </div>

    <hr>
    <div class="input" id="samples">
    <h4>What's the deal with this list of allotments by rotation?</h4>
    <p>This is a simple spreadsheet (<a href="https://en.wikipedia.org/wiki/Comma-separated_values">csv or comma-separated file</a>) uploaded by a chief or admin that El Nino uses to figure out how much money residents should receive based on their rotation. It looks like this:</p>
    <img src="http://www.pediatricly.com/images/elNino/sampleFoodCashByWeek.jpg" id="sampleFoodCash">
    <p>You need to follow that format exactly for it to work. Easiest is to modify the current list:
        <ol><li><a href="http://pediatricly.com/cgi-bin/elNino/foodCashByWeekPrinter.py" target="_blank">Click here to view the current list</a>.</li>
            <li>In the window that opens, <b>Right click > Save as...</b></li>
            <li>Change the file extension from .py or .py.txt to <b>.csv</b></li>
            <li>You can then open the file in Excel and make any changes.</li></ol>
<p>Whatever you do, follow these criteria:</p>
        <ol><li>It must be saved as a .csv file. (Excel etc can save as this format.) </li>
            <li>It must have only 2 columns:
                <ol><li>Rotation</li>
                    <li>cashWk</li></ol></li>
            <li>The rotation names in column A <b>need</b> to match those in Amion exactly. You can get <a href="http://pediatricly.com/cgi-bin/elNino/allRotsPrinter.py" target="_blank">the latest list in Amion from El Nino</a> (based on the last El Nino update).</li>
            <li>The cash amounts in column B must be weekly and must be <b>numbers only</b> - do not include $, /, etc.</li></ol></p>
    </div>
 
<hr>

<div class="input" id="newYear">
    <h4>Special Case of Lunch Money in July</h4>
        <p>El Nino literally reads the main block schedule from Amion by clicking the "Block" link on the <a href="http://amion.com/cgi-bin/ocs" target="_blank">Amion main page</a>. That block schedule changes to the new academic year sometime around July 1st. Until it does, El Nino cannot see the next year's schedule and so lunchMoney will not work for the new year. The problem is that you will probably need to give residents some lunch money before Amion updates to the new year.</p>
        <p>I <b>recommend</b> you do this:
        <ul><li>Give everyone, especially the incoming interns, $100 in June.</li>
            <li>WAIT until Amion has updated to the new year. By late July, this should be done.</li>
            <li>Once Amion shows the new year by default, run Lunch Money.</li>
            <li>Then, just subtract that $100 from the allotment for each resident and everyone breaks even.</li>
            </ul></p>
   </div>