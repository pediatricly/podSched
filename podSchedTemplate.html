<div class="meetingPlanner">
<h3>El Nino has just picked the candidate dates you requested.</h3>
<hr>
<div class="output" id="errorLog">
<h4>But first, check for errors!</h4>
    <p>Any messages here arise mostly from problems parsing parameters entered on the <a href="http://pediatricly.com/cgi-bin/elNino/meetingForm.py">previous page</a>.</p>
        <p class="message">$errMessage</p>
<p>Errors may give seemingly complete but actually inaccurate output, so please sanity check any results (if you get errors that persist despite double-checking your input).</p>
<p>Also, remember that part of El Nino's data for this comes from its last read of the Amion block schedule. The version in El Nino is current as of <strong>$updated</strong>. Go to <a href="http://pediatricly.com/cgi-bin/elNino/updater.py">Updater</a> to update those data.</p></div>

<hr>    

<div class="output" id="summaryStats">
<p>Summary data (dates yyyy-mm-dd):
    <p class="message">$message</p>
To re-do any of those parameters, return to the <a href="http://pediatricly.com/cgi-bin/elNino/meetingForm.py">Meeting Form</a>.</p></div>

<hr>

<div class="output" id="mainOutputTable">
<p>Here are your results:</p>
    <table>$candidatesTable</table></div>
<div id="explanation" class="summarStats">
<p>A little explanation for your candidate dates:</p>
    <ul><li>Rank - Dates are ranked by scores, highest to lowest. Tie scores are listed randomly.</li>
        <li>Date - yyyy-mm-dd</li>
        <li>dayOfWeek - the day of the week ;)</li>
        <li>dayScore - the score, summed for all selected residents, for that day.</li>
            <ul><li>To get the score, El Nino:</li>
                <ul><li>Starts with the startDate</li>
                    <li>Looks up which <i>shift</i> (e.g., PURPLE3-Day, RedBMT-Nite) each selected resident is assigned to on the <b>daily</b> Amion schedule.</li>
                    <li>Looks up that shift in the <a href="http://pediatricly.com/cgi-bin/elNino/rotationsQualPrinter.py" target="_blank">qualitative score csv</a> and gives it a numerical equivalent (set inside El Nino, high numbers are good). It adds up each selected resident's score to get the day score.</li>
                    <li>Checks which <i>block</i> each resident is on from its <a href="http://pediatricly.com/cgi-bin/elNino/updater.py">database</a> of the <b>monthly</b> Amion schedule.</li>
                    <li>Shows the block just for reference without scoring it, except for vacations. Every resident on vacation gets the "impossible" score (currently -2).</li>
                    <li>Sorts by the total day score.</li></ul></ul>
        <li>postCall - the number of residents post-call that day. (Also factored into the score. This is just for your reference.)</li>
        <li>Resident Names:
            <ul><li>The item before the slash is the <i>shift</i> from the daily schedule. "Not Found" means the resident is not listed in Amion today.</li>
                <li>The item after the slash is the <i>block</i>.</li>
                <li>El Nino lists both because there are many reasons a resident would be "Not Found":
                    <ul><li>Many rotations (Adol, DB, Jeop, PEM, PLUS, electives, etc.) do not use any daily shifts in Amion but have very different time committments.</li>
                        <li>Vacations show up only in the block schedule (El Nino scores these as above.)</li>
                        <li>For rotations that do use daily Amion shifts (e.g., Purple, Red), "Not Found" means that resident has a day off / post-call day.</li></ul></li></ul></li></ul> 
</div>

<hr>

<div class="output" id="outputLinks">
<p>Here are the files El Nino used: 
    <ul><li><a href="http://pediatricly.com/cgi-bin/elNino/candidatesPrinter.py" target="_blank">$csvOut</a>
        <ul><li><strong>Your top ranked $candidates dates</strong>, in csv format.</li>
            <li>After it loads in your browser, Right Click > Save As... > name it a .csv file and you can open it easily in Excel.</li>
            <li>These are same data from the table above on this page.</li></ul></li>
        <li><a href="http://pediatricly.com/cgi-bin/elNino/rotationsQualPrinter.py" target="_blank">$csvIn</a>
        <ul><li>View the current csv of scores by shift that El Nino used.</li>
            <li>Mike designed the default version, "rotationsQual.csv", to schedule evening meetings. 9-5 outpatient shifts get good scores, inpatient day shifts get medium scores, night shifts get impossible scores.</li>
            <li>You can totally customize this to schedule other things (e.g., simulation days). Contact Mike for help with that.</li></ul></li></ul></p>    
</div>
</div>











